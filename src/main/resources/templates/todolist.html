<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head lang="en">

<title>Todo List App</title>

<!--/*/ <th:block th:include="fragments/headerinc :: head"></th:block> /*/-->
</head>
<body>
	<div class="container">
		<!--/*/ <th:block th:include="fragments/header :: header"></th:block> /*/-->



		<div th:if="${not #lists.isEmpty(todolist)}">
			<form th:action="@{/logout}" method="post">
				<div class="col-sm-10">
					<h2>Todo List</h2>
				</div>
				<div class="col-sm-2" style="padding-top: 30px;">
					<span sec:authorize="isAuthenticated()"> <input
						type="submit" value="Sign Out" />
					</span>
				</div>
			</form>
			<table class="table table-striped">
				<tr>
					<th>Id</th>
					<th>Todo</th>
					<th>Done</th>
					<th>User Id</th>
					<th>Created On</th>
					<th sec:authorize="hasAnyAuthority('USER','ADMIN')">View</th>
					<th sec:authorize="hasAuthority('ADMIN')">Edit</th>
					<th sec:authorize="hasAuthority('ADMIN')">Delete</th>
				</tr>
				<tr th:each="item : ${todolist}">
					<td th:text="${item.itemId}"><a
						href="/todolist/${item.itemId}">Id</a></td>
					<td th:text="${item.todo}">To Do</td>
					<td th:text="${item.done}">Done</td>
					<td th:text="${item.userId}">User Id</td>
					<td th:text="${item.createdOn}">Created On</td>




					<td sec:authorize="hasAnyAuthority('USER','ADMIN')"><a
						th:href="${'/todolist/show/' + item.itemId}">View</a></td>
					<td sec:authorize="hasAuthority('ADMIN')"><a
						th:href="${'/todolist/edit/' + item.itemId}">Edit</a></td>
					<td sec:authorize="hasAuthority('ADMIN')"><a
						th:href="${'/todolist/delete/' + item.itemId}">Delete</a></td>
				</tr>
			</table>

		</div>
	</div>

</body>
</html>